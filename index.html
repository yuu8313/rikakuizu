<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ãƒ†ã‚¹ãƒˆã‚¯ã‚¤ã‚º</title>
    <!-- Tailwind CSSã‚’èª­ã¿è¾¼ã¿ã¾ã™ -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* ãƒ•ã‚©ãƒ³ãƒˆã‚„åŸºæœ¬çš„ãªã‚¹ã‚¿ã‚¤ãƒ«ã‚’è¨­å®šã—ã¾ã™ */
        body {
            font-family: 'Inter', 'Helvetica Neue', 'Hiragino Kaku Gothic ProN', 'Meiryo', sans-serif;
        }
        /* ãƒ¢ãƒ¼ãƒ€ãƒ«ã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ */
        .modal-enter {
            animation: fadeIn 0.3s ease-out;
        }
        .modal-leave {
            animation: fadeOut 0.3s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: scale(0.95); }
            to { opacity: 1; transform: scale(1); }
        }
        @keyframes fadeOut {
            from { opacity: 1; transform: scale(1); }
            to { opacity: 0; transform: scale(0.95); }
        }
    </style>
</head>
<body class="bg-gray-100 flex items-center justify-center min-h-screen py-8">

    <!-- åˆæœŸè¨­å®šç”»é¢ -->
    <div id="setup-container" class="bg-white p-8 rounded-2xl shadow-xl w-11/12 max-w-md text-center">
        <h1 class="text-2xl sm:text-3xl font-bold text-indigo-600 mb-6">ã‚¯ã‚¤ã‚ºè¨­å®š</h1>
        <div class="mb-6">
            <label for="num-questions-input" class="block text-gray-700 text-lg mb-2">ä½•å•æŒ‘æˆ¦ã—ã¾ã™ã‹ï¼Ÿ (1ã€œ40)</label>
            <input type="number" id="num-questions-input" min="1" max="40" value="10" class="w-full px-4 py-3 text-center text-xl border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition">
            <p id="setup-error" class="text-red-500 h-5 mt-2"></p>
        </div>
        <button id="start-btn" class="w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-8 rounded-lg transition duration-300 ease-in-out shadow-lg text-xl">
            ã‚¯ã‚¤ã‚ºã‚’é–‹å§‹ï¼
        </button>
    </div>

    <!-- ã‚¯ã‚¤ã‚ºæœ¬ä½“ (åˆæœŸçŠ¶æ…‹ã§ã¯éè¡¨ç¤º) -->
    <div id="quiz-container" class="bg-white p-6 sm:p-8 rounded-2xl shadow-xl w-11/12 max-w-2xl hidden">
        <!-- å•é¡Œç”»åƒ -->
        <img id="question-image" src="" alt="å•é¡Œã®é–¢é€£ç”»åƒ" class="w-full h-48 object-cover rounded-lg mb-6 bg-gray-200" onerror="this.style.display='none'">
        
        <div class="mb-6">
            <h2 id="question-number" class="text-xl sm:text-2xl font-bold text-indigo-600 mb-2"></h2>
            <p id="question-text" class="text-gray-800 text-lg sm:text-xl leading-relaxed"></p>
        </div>
        <div id="options-container" class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6"></div>
        <div class="flex flex-col sm:flex-row items-center justify-between space-y-4 sm:space-y-0">
            <button id="hint-btn" class="w-full sm:w-auto bg-amber-500 hover:bg-amber-600 text-white font-bold py-3 px-6 rounded-lg transition duration-300 ease-in-out shadow-md">
                ãƒ’ãƒ³ãƒˆã‚’è¦‹ã‚‹
            </button>
            <div id="result-container" class="text-center sm:text-right">
                 <p id="result-text" class="text-2xl font-bold h-8"></p>
            </div>
        </div>
        <div class="mt-8 text-center">
            <button id="next-btn" class="w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-8 rounded-lg transition duration-300 ease-in-out shadow-lg hidden">
                æ¬¡ã®å•é¡Œã¸
            </button>
        </div>
    </div>

    <!-- ãƒ’ãƒ³ãƒˆç”¨ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ (åˆæœŸçŠ¶æ…‹ã§ã¯éè¡¨ç¤º) -->
    <div id="hint-modal" class="fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center p-4 z-50 hidden">
        <div id="modal-content" class="bg-white p-8 rounded-2xl shadow-xl w-full max-w-lg text-center relative">
            <h3 class="text-2xl font-bold text-amber-600 mb-4">ãƒ’ãƒ³ãƒˆ</h3>
            <p id="modal-hint-text" class="text-gray-800 text-lg mb-6"></p>
            <button id="close-modal-btn" class="w-full sm:w-auto bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-3 px-8 rounded-lg transition duration-300">
                é–‰ã˜ã‚‹
            </button>
        </div>
    </div>

    <script>
        // --- ã‚¯ã‚¤ã‚ºãƒ‡ãƒ¼ã‚¿ (å…¨40å•, ç”»åƒä»˜ã) ---
        const quizData = [
            { question: "DNAã¨RNAã«å…±é€šã—ã¦å«ã¾ã‚Œã‚‹æˆåˆ†ã¯æ¬¡ã®ã†ã¡ã©ã‚Œã§ã™ã‹ï¼Ÿ", options: ["ãƒ‡ã‚ªã‚­ã‚·ãƒªãƒœãƒ¼ã‚¹", "ãƒãƒŸãƒ³", "ãƒªãƒ³é…¸", "ãƒªãƒœãƒ¼ã‚¹"], answer: "ãƒªãƒ³é…¸", hint: "ãƒŒã‚¯ãƒ¬ã‚ªãƒãƒ‰ã¯ã€ãƒªãƒ³é…¸ã€ç³–ã€å¡©åŸºã‹ã‚‰æ§‹æˆã•ã‚Œã¾ã™ã€‚", image: "https://placehold.co/600x300/A78BFA/FFFFFF?text=DNA%E3%81%A8RNA" },
            { question: "DNAãŒãƒŒã‚¯ãƒ¬ã‚ªãƒãƒ‰ã®ã¤ãªãŒã‚Šã§ä½œã‚‰ã‚Œã¦ã„ã‚‹æ§‹é€ ã‚’ä½•ã¨å‘¼ã³ã¾ã™ã‹ï¼Ÿ", options: ["äºŒé‡ã‚‰ã›ã‚“æ§‹é€ ", "ã‚¢ãƒŸãƒé…¸é…åˆ—", "ã‚»ãƒ³ãƒˆãƒ©ãƒ«ãƒ‰ã‚°ãƒ", "å¡©åŸºé…åˆ—"], answer: "äºŒé‡ã‚‰ã›ã‚“æ§‹é€ ", hint: "å›³ã«ç¤ºã•ã‚Œã¦ã„ã‚‹ã€ã‚‰ã›ã‚“çŠ¶ã®ãƒã‚·ã‚´ã®ã‚ˆã†ãªå½¢ã§ã™ã€‚", image: "https://placehold.co/600x300/60A5FA/FFFFFF?text=%E4%BA%8C%E9%87%8D%E3%82%89%E3%81%9B%E3%82%93%E6%A7%8B%E9%80%A0" },
            { question: "ãƒ’ãƒˆã®ä½“ã‚’ã¤ãã‚‹ã‚¿ãƒ³ãƒ‘ã‚¯è³ªã¯ã€ä½•ç¨®é¡ã®ã‚¢ãƒŸãƒé…¸ãŒã¤ãªãŒã£ã¦ã§ãã¦ã„ã¾ã™ã‹ï¼Ÿ", options: ["4ç¨®é¡", "16ç¨®é¡", "20ç¨®é¡", "64ç¨®é¡"], answer: "20ç¨®é¡", hint: "ã‚‚ã—å¡©åŸº2ã¤ã®é…åˆ—ã§ã‚ã£ãŸã‚‰ã€4Ã—4=16é€šã‚Šã—ã‹ãªãã€ã‚¢ãƒŸãƒé…¸ã«å¯¾å¿œã§ãã¾ã›ã‚“ã€‚", image: "https://placehold.co/600x300/FBBF24/FFFFFF?text=%E3%82%A2%E3%83%9F%E3%83%8E%E9%85%B8" },
            { question: "ç”Ÿç‰©ã«å…±é€šã—ãŸåŸºæœ¬åŸç†ã¨ã•ã‚Œã‚‹ã€Œã‚»ãƒ³ãƒˆãƒ©ãƒ«ãƒ‰ã‚°ãƒã€ã¨ã¯ä½•ã§ã™ã‹ï¼Ÿ", options: ["éºä¼å­ãŒçªç„¶å¤‰åŒ–ã™ã‚‹ã“ã¨", "DNAã‹ã‚‰ã‚¿ãƒ³ãƒ‘ã‚¯è³ªãŒä½œã‚‰ã‚Œã‚‹æµã‚Œ", "ç´°èƒãŒåˆ†è£‚ã—ã¦å¢—ãˆã‚‹ã“ã¨", "ç”Ÿç‰©ãŒç’°å¢ƒã«é©å¿œã™ã‚‹ã“ã¨"], answer: "DNAã‹ã‚‰ã‚¿ãƒ³ãƒ‘ã‚¯è³ªãŒä½œã‚‰ã‚Œã‚‹æµã‚Œ", hint: "DNA â†’ (è»¢å†™) â†’ RNA â†’ (ç¿»è¨³) â†’ ã‚¿ãƒ³ãƒ‘ã‚¯è³ªã€ã¨ã„ã†ä¸€é€£ã®æµã‚Œã§ã™ã€‚", image: "https://placehold.co/600x300/EC4899/FFFFFF?text=%E3%82%BB%E3%83%B3%E3%83%88%E3%83%A9%E3%83%AB%E3%83%89%E3%82%B0%E3%83%9E" },
            { question: "ãƒ’ãƒˆã®ä½“ã®ç´„65%ã‚’å ã‚ã‚‹ç‰©è³ªã¯ä½•ã§ã™ã‹ï¼Ÿ", options: ["æ°´", "ã‚¿ãƒ³ãƒ‘ã‚¯è³ª", "è„‚è³ª", "ç‚­æ°´åŒ–ç‰©"], answer: "æ°´", hint: "ã‚¿ãƒ³ãƒ‘ã‚¯è³ªã¯ç´„15%ã§ã™ã€‚", image: "https://placehold.co/600x300/3B82F6/FFFFFF?text=%E4%BA%BA%E4%BD%93%E3%81%AE%E6%88%90%E5%88%86" },
            { question: "é…¸ç´ ãŒå¤šã„ã¨ã“ã‚ã§ã¯é…¸ç´ ã¨çµåˆã—ã€å°‘ãªã„ã¨ã“ã‚ã§ã¯é…¸ç´ ã‚’æ”¾å‡ºã™ã‚‹æ€§è³ªã‚’æŒã¤ã‚¿ãƒ³ãƒ‘ã‚¯è³ªã¯ä½•ã§ã™ã‹ï¼Ÿ", options: ["ãƒ˜ãƒ¢ã‚°ãƒ­ãƒ“ãƒ³", "ã‚¯ãƒªã‚¹ã‚¿ãƒªãƒ³", "ã‚¢ã‚¯ãƒãƒ³", "ãƒŸã‚ªã‚·ãƒ³"], answer: "ãƒ˜ãƒ¢ã‚°ãƒ­ãƒ“ãƒ³", hint: "è¡€æ¶²ä¸­ã§é…¸ç´ ã‚’é‹ã¶å½¹å‰²ã‚’æ‹…ã£ã¦ã„ã¾ã™ã€‚", image: "https://placehold.co/600x300/EF4444/FFFFFF?text=%E3%83%98%E3%83%A2%E3%82%B0%E3%83%AD%E3%83%93%E3%83%B3" },
            { question: "ç­‹è‚‰ãŒä¼¸ç¸®ã§ãã‚‹ã‚ˆã†ãªæ§‹é€ ã‚’ã¤ãã£ã¦ã„ã‚‹ã‚¿ãƒ³ãƒ‘ã‚¯è³ªã®çµ„ã¿åˆã‚ã›ã¯ã©ã‚Œã§ã™ã‹ï¼Ÿ", options: ["ã‚¢ã‚¯ãƒãƒ³ã¨ãƒŸã‚ªã‚·ãƒ³", "ã‚¢ãƒ‡ãƒ‹ãƒ³ã¨ã‚°ã‚¢ãƒ‹ãƒ³", "DNAã¨RNA", "ãƒ˜ãƒ¢ã‚°ãƒ­ãƒ“ãƒ³ã¨ã‚¯ãƒªã‚¹ã‚¿ãƒªãƒ³"], answer: "ã‚¢ã‚¯ãƒãƒ³ã¨ãƒŸã‚ªã‚·ãƒ³", hint: "ã“ã®2ã¤ãŒçµ„ã¿åˆã‚ã•ã£ã¦ã€ç­‹è‚‰ã¯åŠ›ã‚’ç™ºæ®ã—ã¾ã™ã€‚", image: "https://placehold.co/600x300/F97316/FFFFFF?text=%E7%AD%8B%E8%82%89" },
            { question: "DNAã®ãƒŒã‚¯ãƒ¬ã‚ªãƒãƒ‰ã«å«ã¾ã‚Œã‚‹ç³–ã¯ä½•ã§ã™ã‹ï¼Ÿ", options: ["ãƒ‡ã‚ªã‚­ã‚·ãƒªãƒœãƒ¼ã‚¹", "ãƒªãƒœãƒ¼ã‚¹", "ã‚°ãƒ«ã‚³ãƒ¼ã‚¹", "ãƒ•ãƒ«ã‚¯ãƒˆãƒ¼ã‚¹"], answer: "ãƒ‡ã‚ªã‚­ã‚·ãƒªãƒœãƒ¼ã‚¹", hint: "DNAã®'D'ã¯ã“ã®ç³–ã®åå‰ã«ç”±æ¥ã—ã¾ã™ã€‚", image: "https://placehold.co/600x300/10B981/FFFFFF?text=DNA%E3%81%AE%E7%B3%96" },
            { question: "RNAã®ãƒŒã‚¯ãƒ¬ã‚ªãƒãƒ‰ã«å«ã¾ã‚Œã‚‹å¡©åŸºã§ã€DNAã«ã¯ãªã„ã‚‚ã®ã¯ã©ã‚Œã§ã™ã‹ï¼Ÿ", options: ["ã‚¢ãƒ‡ãƒ‹ãƒ³", "ã‚°ã‚¢ãƒ‹ãƒ³", "ã‚·ãƒˆã‚·ãƒ³", "ã‚¦ãƒ©ã‚·ãƒ«"], answer: "ã‚¦ãƒ©ã‚·ãƒ«", hint: "DNAã§ã¯ã€ã“ã®ä»£ã‚ã‚Šã«ãƒãƒŸãƒ³(T)ãŒä½¿ã‚ã‚Œã¾ã™ã€‚", image: "https://placehold.co/600x300/8B5CF6/FFFFFF?text=RNA%E3%81%AE%E5%A1%A9%E5%9F%BA" },
            { question: "DNAã®éºä¼æƒ…å ±ã‹ã‚‰RNAãŒä½œã‚‰ã‚Œã‚‹éç¨‹ã‚’ä½•ã¨å‘¼ã³ã¾ã™ã‹ï¼Ÿ", options: ["è»¢å†™", "ç¿»è¨³", "è¤‡è£½", "åˆ†è§£"], answer: "è»¢å†™", hint: "æƒ…å ±ã‚’ã€Œå†™ã—å–ã‚‹ã€ãƒ—ãƒ­ã‚»ã‚¹ã§ã™ã€‚", image: "https://placehold.co/600x300/6366F1/FFFFFF?text=%E8%BB%A2%E5%86%99" },
            { question: "RNAã®æƒ…å ±ã‚’ã‚‚ã¨ã«ã‚¿ãƒ³ãƒ‘ã‚¯è³ªãŒåˆæˆã•ã‚Œã‚‹éç¨‹ã‚’ä½•ã¨å‘¼ã³ã¾ã™ã‹ï¼Ÿ", options: ["ç¿»è¨³", "è»¢å†™", "è¤‡è£½", "åˆ†è§£"], answer: "ç¿»è¨³", hint: "å¡©åŸºã®ã€Œè¨€è‘‰ã€ã‚’ã‚¢ãƒŸãƒé…¸ã®ã€Œè¨€è‘‰ã€ã«ã€Œè¨³ã™ã€ãƒ—ãƒ­ã‚»ã‚¹ã§ã™ã€‚", image: "https://placehold.co/600x300/D946EF/FFFFFF?text=%E7%BF%BB%E8%A8%B3" },
            { question: "DNAã®äºŒé‡ã‚‰ã›ã‚“æ§‹é€ ã§ã€ã‚·ãƒˆã‚·ãƒ³(C)ã¨å¯¾ã‚’ãªã™å¡©åŸºã¯ä½•ã§ã™ã‹ï¼Ÿ", options: ["ã‚°ã‚¢ãƒ‹ãƒ³(G)", "ã‚¢ãƒ‡ãƒ‹ãƒ³(A)", "ãƒãƒŸãƒ³(T)", "ã‚¦ãƒ©ã‚·ãƒ«(U)"], answer: "ã‚°ã‚¢ãƒ‹ãƒ³(G)", hint: "Gã¨Cã€Aã¨TãŒãã‚Œãã‚Œãƒšã‚¢ã«ãªã‚Šã¾ã™ã€‚", image: "https://placehold.co/600x300/14B8A6/FFFFFF?text=%E5%A1%A9%E5%9F%BA%E5%AF%BE" },
            { question: "éºä¼å­ã®æœ¬ä½“ã§ã‚ã‚Šã€æ ¸ã®ä¸­ã«ã‚ã‚‹æŸ“è‰²ä½“ä¸Šã«å­˜åœ¨ã™ã‚‹ã‚‚ã®ã¯ä½•ã§ã™ã‹ï¼Ÿ", options: ["éºä¼å­", "ã‚¿ãƒ³ãƒ‘ã‚¯è³ª", "ã‚¢ãƒŸãƒé…¸", "ãƒªãƒœã‚½ãƒ¼ãƒ "], answer: "éºä¼å­", hint: "è¦ªã‹ã‚‰å­ã¸å½¢è³ªã‚’ä¼ãˆã‚‹æƒ…å ±ã®å˜ä½ã§ã™ã€‚", image: "https://placehold.co/600x300/0EA5E9/FFFFFF?text=%E9%81%BA%E4%BC%9D%E5%AD%90" },
            { question: "ãƒ’ãƒˆã®ä½“ã®ã†ã¡ã€ã‚¿ãƒ³ãƒ‘ã‚¯è³ªãŒå ã‚ã‚‹å‰²åˆã¯ã©ã®ãã‚‰ã„ã§ã™ã‹ï¼Ÿ", options: ["ç´„5%", "ç´„15%", "ç´„25%", "ç´„35%"], answer: "ç´„15%", hint: "æ°´ãŒç´„65%ã§æœ€ã‚‚å¤šãã€ãã®æ¬¡ãŒã‚¿ãƒ³ãƒ‘ã‚¯è³ªã§ã™ã€‚", image: "https://placehold.co/600x300/F59E0B/FFFFFF?text=%E3%82%BF%E3%83%B3%E3%83%91%E3%82%AF%E8%B3%AA" },
            { question: "ãƒŒã‚¯ãƒ¬ã‚ªãƒãƒ‰ã‚’æ§‹æˆã™ã‚‹3ã¤ã®è¦ç´ ã«å«ã¾ã‚Œãªã„ã‚‚ã®ã¯ã©ã‚Œã§ã™ã‹ï¼Ÿ", options: ["ãƒªãƒ³é…¸", "ç³–", "å¡©åŸº", "ã‚¢ãƒŸãƒé…¸"], answer: "ã‚¢ãƒŸãƒé…¸", hint: "ã‚¢ãƒŸãƒé…¸ã¯ã‚¿ãƒ³ãƒ‘ã‚¯è³ªã®æ§‹æˆè¦ç´ ã§ã™ã€‚", image: "https://placehold.co/600x300/4F46E5/FFFFFF?text=%E3%83%8C%E3%82%AF%E3%83%AC%E3%82%AA%E3%83%81%E3%83%89" },
            { question: "DNAã®å¡©åŸºã¯ä½•ç¨®é¡ã‚ã‚Šã¾ã™ã‹ï¼Ÿ", options: ["1ç¨®é¡", "2ç¨®é¡", "3ç¨®é¡", "4ç¨®é¡"], answer: "4ç¨®é¡", hint: "ã‚¢ãƒ‡ãƒ‹ãƒ³(A)ã€ãƒãƒŸãƒ³(T)ã€ã‚°ã‚¢ãƒ‹ãƒ³(G)ã€ã‚·ãƒˆã‚·ãƒ³(C)ã®4ã¤ã§ã™ã€‚", image: "https://placehold.co/600x300/22C55E/FFFFFF?text=DNA%E3%81%AE%E5%A1%A9%E5%9F%BA" },
            { question: "3ã¤ã®å¡©åŸºã®çµ„ã¿åˆã‚ã›ã§1ã¤ã®ã‚¢ãƒŸãƒé…¸ã‚’æŒ‡å®šã—ã¾ã™ãŒã€ãã®çµ„ã¿åˆã‚ã›ã¯ä½•é€šã‚Šã‚ã‚Šã¾ã™ã‹ï¼Ÿ", options: ["16é€šã‚Š", "20é€šã‚Š", "64é€šã‚Š", "256é€šã‚Š"], answer: "64é€šã‚Š", hint: "4ç¨®é¡ã®å¡©åŸºãŒ3ã¤ä¸¦ã¶ã®ã§ã€4Ã—4Ã—4ã§è¨ˆç®—ã§ãã¾ã™ã€‚", image: "https://placehold.co/600x300/9333EA/FFFFFF?text=64%E9%80%9A%E3%82%8A" },
            { question: "ä½“å†…ã§æƒ…å ±ã‚’ä¼é”ã—ãŸã‚Šã€ä½“ã®åå¿œã‚’èª¿ç¯€ã—ãŸã‚Šã™ã‚‹ã‚¿ãƒ³ãƒ‘ã‚¯è³ªã‚’ä½•ã¨å‘¼ã³ã¾ã™ã‹ï¼Ÿ", options: ["ãƒ›ãƒ«ãƒ¢ãƒ³", "æŠ—ä½“", "é…µç´ ", "ãƒ˜ãƒ¢ã‚°ãƒ­ãƒ“ãƒ³"], answer: "ãƒ›ãƒ«ãƒ¢ãƒ³", hint: "ç”»åƒCã®é¸æŠè‚¢ã®ä¸€ã¤ã§ã™ã€‚", image: "https://placehold.co/600x300/BE185D/FFFFFF?text=%E3%83%9B%E3%83%AB%E3%83%A2%E3%83%B3" },
            { question: "ç›®ã®æ°´æ™¶ä½“ã®ä¸»æˆåˆ†ã§ã‚ã‚‹ã‚¿ãƒ³ãƒ‘ã‚¯è³ªã¯ä½•ã§ã™ã‹ï¼Ÿ", options: ["ã‚¯ãƒªã‚¹ã‚¿ãƒªãƒ³", "ã‚¢ã‚¯ãƒãƒ³", "ãƒŸã‚ªã‚·ãƒ³", "ã‚³ãƒ©ãƒ¼ã‚²ãƒ³"], answer: "ã‚¯ãƒªã‚¹ã‚¿ãƒªãƒ³", hint: "ç”»åƒCã®é¸æŠè‚¢ã®ä¸€ã¤ã§ã™ã€‚", image: "https://placehold.co/600x300/0284C7/FFFFFF?text=%E3%82%AF%E3%83%AA%E3%82%B9%E3%82%BF%E3%83%AA%E3%83%B3" },
            { question: "ç—…åŸä½“ãªã©ã®ç•°ç‰©ã‹ã‚‰ä½“ã‚’å®ˆã‚‹ã‚¿ãƒ³ãƒ‘ã‚¯è³ªã‚’ä½•ã¨å‘¼ã³ã¾ã™ã‹ï¼Ÿ", options: ["æŠ—ä½“", "ãƒ›ãƒ«ãƒ¢ãƒ³", "ãƒ˜ãƒ¢ã‚°ãƒ­ãƒ“ãƒ³", "é…µç´ "], answer: "æŠ—ä½“", hint: "å…ç–«ã®åƒãã‚’æ‹…ã„ã¾ã™ã€‚ç”»åƒCã®é¸æŠè‚¢ã®ä¸€ã¤ã§ã™ã€‚", image: "https://placehold.co/600x300/059669/FFFFFF?text=%E6%8A%97%E4%BD%93" },
            { question: "DNAã®éºä¼æƒ…å ±ãŒä¿å­˜ã•ã‚Œã¦ã„ã‚‹ç´°èƒå†…ã®å ´æ‰€ã¯ã©ã“ã§ã™ã‹ï¼Ÿ", options: ["æ ¸", "ç´°èƒè†œ", "ãƒªãƒœã‚½ãƒ¼ãƒ ", "ãƒŸãƒˆã‚³ãƒ³ãƒ‰ãƒªã‚¢"], answer: "æ ¸", hint: "ç”»åƒã®èª¬æ˜æ–‡ã«ã€Œæ ¸ã®ä¸­ã«ã‚ã‚‹æŸ“è‰²ä½“ä¸Šã«éºä¼å­ãŒã‚ã‚‹ã€ã¨ã‚ã‚Šã¾ã™ã€‚", image: "https://placehold.co/600x300/7C3AED/FFFFFF?text=%E7%B4%B0%E8%83%9E%E6%A0%B8" },
            { question: "DNAã®äºŒé‡ã‚‰ã›ã‚“æ§‹é€ ã§ã€å¤–å´ã®éª¨æ ¼ã‚’å½¢æˆã—ã¦ã„ã‚‹ã®ã¯ä½•ã¨ä½•ã§ã™ã‹ï¼Ÿ", options: ["ãƒªãƒ³é…¸ã¨ç³–", "å¡©åŸºã¨ã‚¢ãƒŸãƒé…¸", "ãƒªãƒ³é…¸ã¨å¡©åŸº", "ç³–ã¨ã‚¢ãƒŸãƒé…¸"], answer: "ãƒªãƒ³é…¸ã¨ç³–", hint: "å›³ã‚’è¦‹ã‚‹ã¨ã€ãƒã‚·ã‚´ã®ç¸¦æ£’ã®éƒ¨åˆ†ã«ã‚ãŸã‚Šã¾ã™ã€‚", image: "https://placehold.co/600x300/2563EB/FFFFFF?text=DNA%E3%81%AE%E9%AA%A8%E6%A0%BC" },
            { question: "DNAã®äºŒé‡ã‚‰ã›ã‚“æ§‹é€ ã§ã€å†…å´ã®ã€Œæ®µã€ã‚’å½¢æˆã—ã¦ã„ã‚‹ã®ã¯ä½•ã§ã™ã‹ï¼Ÿ", options: ["å¡©åŸºã®å¯¾", "ãƒªãƒ³é…¸ã®å¯¾", "ç³–ã®å¯¾", "ã‚¢ãƒŸãƒé…¸ã®å¯¾"], answer: "å¡©åŸºã®å¯¾", hint: "Aã¨Tã€Gã¨Cã®ãƒšã‚¢ãŒãƒã‚·ã‚´ã®æ¨ªæ£’ã®éƒ¨åˆ†ã«ã‚ãŸã‚Šã¾ã™ã€‚", image: "https://placehold.co/600x300/16A34A/FFFFFF?text=%E5%A1%A9%E5%9F%BA%E3%81%AE%E5%AF%BE" },
            { question: "éºä¼æƒ…å ±ã«åŸºã¥ã„ã¦ã‚¿ãƒ³ãƒ‘ã‚¯è³ªãŒä½œã‚‰ã‚Œã‚‹ã€ä¸€é€£ã®éç¨‹ã®æœ€çµ‚ç”£ç‰©ã¯ä½•ã§ã™ã‹ï¼Ÿ", options: ["ã‚¿ãƒ³ãƒ‘ã‚¯è³ª", "DNA", "RNA", "ã‚¢ãƒŸãƒé…¸"], answer: "ã‚¿ãƒ³ãƒ‘ã‚¯è³ª", hint: "ã‚»ãƒ³ãƒˆãƒ©ãƒ«ãƒ‰ã‚°ãƒã®ã‚´ãƒ¼ãƒ«ã§ã™ã€‚", image: "https://placehold.co/600x300/CA8A04/FFFFFF?text=%E3%82%BF%E3%83%B3%E3%83%91%E3%82%AF%E8%B3%AA%E5%90%88%E6%88%90" },
            { question: "DNAã‚’æ§‹æˆã™ã‚‹å¡©åŸºã€Œã‚¢ãƒ‡ãƒ‹ãƒ³ã€ã®è¨˜å·ã¯ä½•ã§ã™ã‹ï¼Ÿ", options: ["A", "T", "G", "C"], answer: "A", hint: "A, T, G, C ã®ã†ã¡ã®ä¸€ã¤ã§ã™ã€‚", image: "https://placehold.co/600x300/DC2626/FFFFFF?text=%E3%82%A2%E3%83%87%E3%83%8B%E3%83%B3(A)" },
            { question: "DNAã‚’æ§‹æˆã™ã‚‹å¡©åŸºã€ŒãƒãƒŸãƒ³ã€ã®è¨˜å·ã¯ä½•ã§ã™ã‹ï¼Ÿ", options: ["T", "A", "G", "C"], answer: "T", hint: "A, T, G, C ã®ã†ã¡ã®ä¸€ã¤ã§ã™ã€‚", image: "https://placehold.co/600x300/2563EB/FFFFFF?text=%E3%83%81%E3%83%9F%E3%83%B3(T)" },
            { question: "DNAã‚’æ§‹æˆã™ã‚‹å¡©åŸºã€Œã‚°ã‚¢ãƒ‹ãƒ³ã€ã®è¨˜å·ã¯ä½•ã§ã™ã‹ï¼Ÿ", options: ["G", "A", "T", "C"], answer: "G", hint: "A, T, G, C ã®ã†ã¡ã®ä¸€ã¤ã§ã™ã€‚", image: "https://placehold.co/600x300/16A34A/FFFFFF?text=%E3%82%B0%E3%82%A2%E3%83%8B%E3%83%B3(G)" },
            { question: "DNAã‚’æ§‹æˆã™ã‚‹å¡©åŸºã€Œã‚·ãƒˆã‚·ãƒ³ã€ã®è¨˜å·ã¯ä½•ã§ã™ã‹ï¼Ÿ", options: ["C", "A", "T", "G"], answer: "C", hint: "A, T, G, C ã®ã†ã¡ã®ä¸€ã¤ã§ã™ã€‚", image: "https://placehold.co/600x300/F59E0B/FFFFFF?text=%E3%82%B7%E3%83%88%E3%82%B7%E3%83%B3(C)" },
            { question: "RNAã®ç³–ã¯ä½•ã§ã™ã‹ï¼Ÿ", options: ["ãƒªãƒœãƒ¼ã‚¹", "ãƒ‡ã‚ªã‚­ã‚·ãƒªãƒœãƒ¼ã‚¹", "ã‚°ãƒ«ã‚³ãƒ¼ã‚¹", "ãƒãƒ«ãƒˆãƒ¼ã‚¹"], answer: "ãƒªãƒœãƒ¼ã‚¹", hint: "RNAã® 'R' ã¯ã“ã®ç³–ã®åå‰ã«ç”±æ¥ã—ã¾ã™ã€‚", image: "https://placehold.co/600x300/7E22CE/FFFFFF?text=RNA%E3%81%AE%E7%B3%96" },
            { question: "ã‚¿ãƒ³ãƒ‘ã‚¯è³ªã¯ä½•ãŒå¤šæ•°ã¤ãªãŒã£ã¦ã§ãã¦ã„ã¾ã™ã‹ï¼Ÿ", options: ["ã‚¢ãƒŸãƒé…¸", "ãƒŒã‚¯ãƒ¬ã‚ªãƒãƒ‰", "å¡©åŸº", "ç³–"], answer: "ã‚¢ãƒŸãƒé…¸", hint: "20ç¨®é¡ã®ã‚¢ãƒŸãƒé…¸ãŒé–çŠ¶ã«ã¤ãªãŒã£ã¦ã„ã¾ã™ã€‚", image: "https://placehold.co/600x300/DB2777/FFFFFF?text=%E3%82%A2%E3%83%9F%E3%83%8E%E9%85%B8%E3%81%AE%E9%80%A3%E9%8E%96" },
            { question: "ã€Œéºä¼å­ã€ã®å®šç¾©ã¨ã—ã¦æœ€ã‚‚è¿‘ã„ã‚‚ã®ã¯ã©ã‚Œã§ã™ã‹ï¼Ÿ", options: ["DNAä¸Šã®ã‚¿ãƒ³ãƒ‘ã‚¯è³ªã®è¨­è¨ˆå›³ã¨ãªã‚‹é ˜åŸŸ", "ç´°èƒã®æ ¸å…¨ä½“", "ç”Ÿç‰©ã®å…¨éºä¼æƒ…å ±", "ã‚¢ãƒŸãƒé…¸ã®é…åˆ—"], answer: "DNAä¸Šã®ã‚¿ãƒ³ãƒ‘ã‚¯è³ªã®è¨­è¨ˆå›³ã¨ãªã‚‹é ˜åŸŸ", hint: "æŸ“è‰²ä½“ä¸Šã«å­˜åœ¨ã™ã‚‹ã€ç‰¹å®šã®æƒ…å ±ã‚’æŒã¤éƒ¨åˆ†ã§ã™ã€‚", image: "https://placehold.co/600x300/4338CA/FFFFFF?text=%E9%81%BA%E4%BC%9D%E5%AD%90%E3%81%AE%E5%AE%9A%E7%BE%A9" },
            { question: "ãƒ’ãƒˆã®ä½“ã®ç´„15%ã‚’å ã‚ã‚‹ç‰©è³ªã¯ä½•ã§ã™ã‹ï¼Ÿ", options: ["ã‚¿ãƒ³ãƒ‘ã‚¯è³ª", "æ°´", "è„‚è³ª", "ç„¡æ©Ÿç‰©"], answer: "ã‚¿ãƒ³ãƒ‘ã‚¯è³ª", hint: "æ°´ã®æ¬¡ã«å¤šã„æˆåˆ†ã§ã™ã€‚", image: "https://placehold.co/600x300/F59E0B/FFFFFF?text=%E4%BA%BA%E4%BD%93%E3%81%AE15%25" },
            { question: "ãƒ’ãƒˆã®ä½“ã®ç´„20%ã‚’å ã‚ã‚‹ã€Œè„‚è³ªã‚„ç‚­æ°´åŒ–ç‰©ã€ç„¡æ©Ÿç‰©ã€ä»¥å¤–ã®ä¸»è¦ãª2ã¤ã®æˆåˆ†ã¯ä½•ã§ã™ã‹ï¼Ÿ", options: ["æ°´ã¨ã‚¿ãƒ³ãƒ‘ã‚¯è³ª", "æ°´ã¨ã‚¢ãƒŸãƒé…¸", "ã‚¿ãƒ³ãƒ‘ã‚¯è³ªã¨å¡©åŸº", "DNAã¨RNA"], answer: "æ°´ã¨ã‚¿ãƒ³ãƒ‘ã‚¯è³ª", hint: "æ°´ãŒç´„65%ã€ã‚¿ãƒ³ãƒ‘ã‚¯è³ªãŒç´„15%ã§ã™ã€‚", image: "https://placehold.co/600x300/38BDF8/FFFFFF?text=%E4%B8%BB%E8%A6%81%E6%88%90%E5%88%86" },
            { question: "DNAã¨RNAã®ä¸¡æ–¹ã«å«ã¾ã‚Œã‚‹å¡©åŸºã¯ã€ã‚¢ãƒ‡ãƒ‹ãƒ³ã€ã‚°ã‚¢ãƒ‹ãƒ³ã¨ã‚ã¨ä¸€ã¤ã¯ä½•ã§ã™ã‹ï¼Ÿ", options: ["ã‚·ãƒˆã‚·ãƒ³", "ãƒãƒŸãƒ³", "ã‚¦ãƒ©ã‚·ãƒ«", "ãƒªãƒœãƒ¼ã‚¹"], answer: "ã‚·ãƒˆã‚·ãƒ³", hint: "A, G, C ã¯å…±é€šã—ã¦ã„ã¾ã™ã€‚", image: "https://placehold.co/600x300/A3E635/FFFFFF?text=%E5%85%B1%E9%80%9A%E3%81%AE%E5%A1%A9%E5%9F%BA" },
            { question: "DNAã«ç‰¹æœ‰ã§ã€RNAã«ã¯ãªã„å¡©åŸºã¯ä½•ã§ã™ã‹ï¼Ÿ", options: ["ãƒãƒŸãƒ³", "ã‚·ãƒˆã‚·ãƒ³", "ã‚¦ãƒ©ã‚·ãƒ«", "ã‚¢ãƒ‡ãƒ‹ãƒ³"], answer: "ãƒãƒŸãƒ³", hint: "RNAã§ã¯ã‚¦ãƒ©ã‚·ãƒ«(U)ã«ç½®ãæ›ã‚ã‚Šã¾ã™ã€‚", image: "https://placehold.co/600x300/FB923C/FFFFFF?text=DNA%E7%89%B9%E6%9C%89%E3%81%AE%E5%A1%A9%E5%9F%BA" },
            { question: "DNAã®éºä¼æƒ…å ±ã‹ã‚‰ã‚¿ãƒ³ãƒ‘ã‚¯è³ªã¸ã€ã¨ã„ã†æƒ…å ±ã®æµã‚Œã®æœ€åˆã®ã‚¹ãƒ†ãƒƒãƒ—ã¯ä½•ã§ã™ã‹ï¼Ÿ", options: ["è»¢å†™", "ç¿»è¨³", "è¤‡è£½", "çµåˆ"], answer: "è»¢å†™", hint: "DNAã®æƒ…å ±ã‚’RNAã«å†™ã—å–ã‚Šã¾ã™ã€‚", image: "https://placehold.co/600x300/C084FC/FFFFFF?text=%E6%9C%80%E5%88%9D%E3%81%AE%E3%82%B9%E3%83%86%E3%83%83%E3%83%97" },
            { question: "DNAã®æƒ…å ±ä¼é”ã«ãŠã„ã¦ã€ã€Œç¿»è¨³ã€ã®ãƒ—ãƒ­ã‚»ã‚¹ã§ä½•ãŒåˆæˆã•ã‚Œã¾ã™ã‹ï¼Ÿ", options: ["ã‚¿ãƒ³ãƒ‘ã‚¯è³ª", "RNA", "DNA", "ãƒŒã‚¯ãƒ¬ã‚ªãƒãƒ‰"], answer: "ã‚¿ãƒ³ãƒ‘ã‚¯è³ª", hint: "RNAã®å¡©åŸºé…åˆ—ãŒã‚¢ãƒŸãƒé…¸é…åˆ—ã«ã€Œç¿»è¨³ã€ã•ã‚Œã¾ã™ã€‚", image: "https://placehold.co/600x300/F472B6/FFFFFF?text=%E7%BF%BB%E8%A8%B3%E3%81%AE%E7%94%A3%E7%89%A9" },
            { question: "è¦ªã‹ã‚‰å­ã¸å½¢è³ªã‚’ä¼ãˆã‚‹æƒ…å ±ã®ã“ã¨ã‚’ä½•ã¨å‘¼ã³ã¾ã™ã‹ï¼Ÿ", options: ["éºä¼æƒ…å ±", "ã‚¿ãƒ³ãƒ‘ã‚¯è³ªæƒ…å ±", "ç´°èƒæƒ…å ±", "ç’°å¢ƒæƒ…å ±"], answer: "éºä¼æƒ…å ±", hint: "ãã®æœ¬ä½“ãŒDNAã§ã™ã€‚", image: "https://placehold.co/600x300/5EEAD4/FFFFFF?text=%E9%81%BA%E4%BC%9D%E6%83%85%E5%A0%B1" },
            { question: "DNAã‚’æ§‹æˆã™ã‚‹ãƒŒã‚¯ãƒ¬ã‚ªãƒãƒ‰ã®ã€Œå¡©åŸºã€ã®éƒ¨åˆ†ã®å½¹å‰²ã¯ä½•ã§ã™ã‹ï¼Ÿ", options: ["éºä¼æƒ…å ±ã‚’ã‚³ãƒ¼ãƒ‰ã™ã‚‹", "æ§‹é€ ã‚’æ”¯ãˆã‚‹", "ã‚¨ãƒãƒ«ã‚®ãƒ¼ã‚’ä¾›çµ¦ã™ã‚‹", "ä»–ã®åˆ†å­ã¨çµåˆã™ã‚‹"], answer: "éºä¼æƒ…å ±ã‚’ã‚³ãƒ¼ãƒ‰ã™ã‚‹", hint: "A,T,G,Cã®ä¸¦ã³é †ãã®ã‚‚ã®ãŒæƒ…å ±ã§ã™ã€‚", image: "https://placehold.co/600x300/9CA3AF/FFFFFF?text=%E5%A1%A9%E5%9F%BA%E3%81%AE%E5%BD%B9%E5%89%B2" },
            { question: "ç”»åƒã«ç¤ºã•ã‚Œã¦ã„ã‚‹ã€ŒäºŒé‡ã‚‰ã›ã‚“æ§‹é€ ã€ã‚’ç™ºè¦‹ã—ãŸã¨ã•ã‚Œã‚‹ç§‘å­¦è€…ã®çµ„ã¿åˆã‚ã›ã¯ï¼Ÿ", options: ["ãƒ¯ãƒˆã‚½ãƒ³ã¨ã‚¯ãƒªãƒƒã‚¯", "ãƒ¡ãƒ³ãƒ‡ãƒ«ã¨ãƒ€ãƒ¼ã‚¦ã‚£ãƒ³", "ã‚·ãƒ¥ãƒ©ã‚¤ãƒ‡ãƒ³ã¨ã‚·ãƒ¥ãƒ¯ãƒ³", "ãƒ‘ã‚¹ãƒ„ãƒ¼ãƒ«ã¨ã‚³ãƒƒãƒ›"], answer: "ãƒ¯ãƒˆã‚½ãƒ³ã¨ã‚¯ãƒªãƒƒã‚¯", hint: "ã“ã®å•é¡Œã¯ç”»åƒã‹ã‚‰ã®æ¨æ¸¬ã§ã™ãŒã€éå¸¸ã«æœ‰åãªç™ºè¦‹ã§ã™ã€‚", image: "https://placehold.co/600x300/818CF8/FFFFFF?text=%E7%99%BA%E8%A6%8B%E8%80%85" }
        ];

        // --- DOMè¦ç´ ã®å–å¾— ---
        const setupContainer = document.getElementById('setup-container');
        const quizContainer = document.getElementById('quiz-container');
        const startBtn = document.getElementById('start-btn');
        const numQuestionsInput = document.getElementById('num-questions-input');
        const setupError = document.getElementById('setup-error');
        
        const questionImageEl = document.getElementById('question-image');
        const questionNumberEl = document.getElementById('question-number');
        const questionTextEl = document.getElementById('question-text');
        const optionsContainer = document.getElementById('options-container');
        const resultTextEl = document.getElementById('result-text');
        const nextBtn = document.getElementById('next-btn');

        const hintBtn = document.getElementById('hint-btn');
        const hintModal = document.getElementById('hint-modal');
        const modalContent = document.getElementById('modal-content');
        const modalHintText = document.getElementById('modal-hint-text');
        const closeModalBtn = document.getElementById('close-modal-btn');

        // --- å¤‰æ•°ã®åˆæœŸåŒ– ---
        let gameQuizData = [];
        let currentQuizIndex = 0;
        let score = 0;

        // --- é–¢æ•°ã®å®šç¾© ---
        function shuffle(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }

        function loadQuiz() {
            resetState();
            const currentQuiz = gameQuizData[currentQuizIndex];

            // ç”»åƒã®è¡¨ç¤º
            if (currentQuiz.image) {
                questionImageEl.src = currentQuiz.image;
                questionImageEl.style.display = 'block';
            } else {
                questionImageEl.style.display = 'none';
            }
            
            questionNumberEl.textContent = `å•é¡Œ ${currentQuizIndex + 1} / ${gameQuizData.length}`;
            questionTextEl.textContent = currentQuiz.question;
            optionsContainer.innerHTML = '';
            
            const shuffledOptions = [...currentQuiz.options];
            shuffle(shuffledOptions);

            shuffledOptions.forEach(option => {
                const button = document.createElement('button');
                button.textContent = option;
                button.classList.add('bg-gray-200', 'hover:bg-gray-300', 'text-gray-800', 'font-semibold', 'py-3', 'px-4', 'rounded-lg', 'transition', 'duration-300', 'ease-in-out', 'w-full', 'text-left', 'sm:text-center');
                button.addEventListener('click', () => selectAnswer(button, option));
                optionsContainer.appendChild(button);
            });
        }

        function resetState() {
            resultTextEl.textContent = '';
            nextBtn.classList.add('hidden');
            hintBtn.disabled = false;
            hintBtn.classList.remove('opacity-50', 'cursor-not-allowed');
            hintBtn.classList.add('bg-amber-500', 'hover:bg-amber-600');
        }

        function selectAnswer(selectedButton, selectedOption) {
            Array.from(optionsContainer.children).forEach(button => {
                button.disabled = true;
                if (button.textContent === gameQuizData[currentQuizIndex].answer) {
                    button.classList.add('bg-emerald-500', 'text-white');
                    button.classList.remove('bg-gray-200', 'hover:bg-gray-300');
                }
            });

            if (selectedOption === gameQuizData[currentQuizIndex].answer) {
                score++;
                resultTextEl.textContent = 'æ­£è§£ï¼ğŸ‰';
                resultTextEl.classList.add('text-emerald-500');
                resultTextEl.classList.remove('text-red-500');
                selectedButton.classList.add('ring-4', 'ring-emerald-300');
            } else {
                resultTextEl.textContent = 'ä¸æ­£è§£...';
                resultTextEl.classList.add('text-red-500');
                resultTextEl.classList.remove('text-emerald-500');
                selectedButton.classList.add('bg-red-500', 'text-white', 'ring-4', 'ring-red-300');
                selectedButton.classList.remove('bg-gray-200', 'hover:bg-gray-300');
            }
            hintBtn.disabled = true;
            hintBtn.classList.add('opacity-50', 'cursor-not-allowed');
            nextBtn.classList.remove('hidden');
            if (currentQuizIndex === gameQuizData.length - 1) {
                nextBtn.textContent = 'çµæœã‚’è¦‹ã‚‹';
            }
        }

        function showResults() {
            quizContainer.innerHTML = `
                <div class="text-center p-4">
                    <h2 class="text-3xl font-bold text-indigo-600 mb-4">ã‚¯ã‚¤ã‚ºçµ‚äº†ï¼</h2>
                    <p class="text-xl text-gray-800 mb-6">ã‚ãªãŸã®æ­£è§£æ•°ã¯ ${gameQuizData.length} å•ä¸­ ${score} å•ã§ã—ãŸï¼</p>
                    <button onclick="location.reload()" class="w-full sm:w-auto bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-8 rounded-lg transition duration-300 ease-in-out shadow-lg">
                        ã‚‚ã†ä¸€åº¦æŒ‘æˆ¦ã™ã‚‹
                    </button>
                </div>
            `;
        }
        
        function showHintModal() {
            modalHintText.textContent = gameQuizData[currentQuizIndex].hint;
            hintModal.classList.remove('hidden');
            modalContent.classList.remove('modal-leave');
            modalContent.classList.add('modal-enter');
        }

        function hideHintModal() {
            modalContent.classList.remove('modal-enter');
            modalContent.classList.add('modal-leave');
            setTimeout(() => {
                hintModal.classList.add('hidden');
            }, 300); // ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã®æ™‚é–“ã¨åˆã‚ã›ã‚‹
        }

        // --- ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼ ---
        startBtn.addEventListener('click', () => {
            const num = parseInt(numQuestionsInput.value);
            if (isNaN(num) || num < 1 || num > 40) {
                setupError.textContent = '1ã‹ã‚‰40ã®é–“ã®æ•°å­—ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚';
                return;
            }
            setupError.textContent = '';
            
            shuffle(quizData);
            gameQuizData = quizData.slice(0, num);
            
            setupContainer.classList.add('hidden');
            quizContainer.classList.remove('hidden');
            
            loadQuiz();
        });

        hintBtn.addEventListener('click', showHintModal);
        closeModalBtn.addEventListener('click', hideHintModal);
        hintModal.addEventListener('click', (e) => {
            if (e.target === hintModal) {
                hideHintModal();
            }
        });

        nextBtn.addEventListener('click', () => {
            currentQuizIndex++;
            if (currentQuizIndex < gameQuizData.length) {
                loadQuiz();
            } else {
                showResults();
            }
        });
    </script>
</body>
</html>
